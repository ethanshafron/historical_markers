library(leaflet)
library(rgdal)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- readOGR(dsn = 'S.C. Historical Marker Map.kmz', "SST_start")
library(leaflet)
library(rgdal)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- readOGR(dsn = 'S.C. Historical Marker Map.kmz', "SST_1")
library(maptools)
library(leaflet)
library(rgdal)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- getKMLcoordinates(textConnection(system("unzip -p S.C. Historical Marker Map.kmz", intern = TRUE)))
library(sf)
library(leaflet)
library(rgdal)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kmz")
library(leaflet)
library(rgdal)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
#pop_up_as_str <- gsub("(<.*>)(.*)(<.*>)", '\\2', toString(markers@data$PopupInfo))
plot(markers)
plot(markers$Description)
View(markers)
View(markers)
print(markers$Description[1])
library(leaflet)
library(rgdal)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "^<br>$")
library(leaflet)
library(rgdal)
library(dplyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "^<br>$")
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "^<br>$")
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "^<br>$")
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
m2 <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "^<br>$")
View(m2)
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
m2 <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "[^<br>$]")
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
m2 <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "[^<br>$]")
m3 <- read.table(markers$Description, sep = '<br>', colClasses = 'character')
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
m2 <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "[^<br>$]")
x <- toString(markers$Description)
m3 <- read.table(x, sep = '<br>', colClasses = 'character')
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
m2 <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "[^<br>$]")
x <- toString(markers$Description)
x
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
m2 <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "[^<br>$]")
x <- toString(markers$Description)
elems <- unlist(strsplit(x, "\\<br>"))
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
#
# m2 <- markers %>%
#   separate(Description, c('County',
#                     'Marker name - front',
#                     'Marker name - reverse',
#                     'Coordinates',
#                     'City',
#                     'Address/Location',
#                     'Text - front',
#                     'Text - reverse',
#                     'Sponsor',
#                     'Year approved',
#                     'Keywords',
#                     'Time period'),
#            sep = "[^<br>$]")
x <- toString(markers$Description)
elems <- unlist(strsplit(x, "\\<br>"))
m <- matrix(elems, ncol = 12, byrow = TRUE)
View(m)
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
#
# m2 <- markers %>%
#   separate(Description, c('County',
#                     'Marker name - front',
#                     'Marker name - reverse',
#                     'Coordinates',
#                     'City',
#                     'Address/Location',
#                     'Text - front',
#                     'Text - reverse',
#                     'Sponsor',
#                     'Year approved',
#                     'Keywords',
#                     'Time period'),
#            sep = "[^<br>$]")
x <- toString(markers$Description)
elems <- unlist(strsplit(x, "(<br>)"))
m <- matrix(elems, ncol = 12, byrow = TRUE)
View(m)
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
m2 <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "(<br>)")
x <- toString(markers$Description)
elems <- unlist(strsplit(x, "(<br>)"))
m <- matrix(elems, ncol = 12, byrow = TRUE)
View(m2)
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
markers_htmlified <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "(<br>)")
markers_jank_rmvd <- markers_htmlified[grepl("Time Period:", markers_htmlified$`Time period`), ]
x <- toString(markers$Description)
elems <- unlist(strsplit(x, "(<br>)"))
m <- matrix(elems, ncol = 12, byrow = TRUE)
View(markers_jank_rmvd)
markers_jank_rmvd$geometry
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
markers_htmlified <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "(<br>)")
markers_jank_rmvd <- markers_htmlified[grepl("Time Period:", markers_htmlified$`Time period`), ]
library(leaflet)
l <- leaflet() %>%
addProviderTiles(providers$Esri.WorldTopoMap)
names(markers_jank_rmvd) %>%
purrr::walk(function(df){
l <<- l %>%
addMarkers(data = markers_jank_rmvd,
label=~as.character(`Marker name - front`), popup =~ as.character(`Text - front`),
clusterOptions = makerClusterOptions())
})
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
markers_htmlified <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "(<br>)")
markers_jank_rmvd <- markers_htmlified[grepl("Time Period:", markers_htmlified$`Time period`), ]
library(leaflet)
l <- leaflet() %>%
addProviderTiles(providers$Esri.WorldTopoMap)
names(markers_jank_rmvd) %>%
purrr::walk(function(df){
l <<- l %>%
addMarkers(data = markers_jank_rmvd,
label=~as.character(`Marker name - front`), popup =~ as.character(`Text - front`))
})
l <- l %>%
addLayersControl(
overlayGroups = names(markers_jank_rmvd),
options = layersControlOptions(collapsed = FALSE)) %>%
addMiniMap(tiles = providers$Esri.OceanBasemap, width = 120, height = 80)
plot(markers_jank_rmvd)
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
markers_htmlified <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "(<br>)")
markers_jank_rmvd <- markers_htmlified[grepl("Time Period:", markers_htmlified$`Time period`), ]
library(leaflet)
leaflet(markers_jank_rmvd)
# l <- leaflet() %>%
#   addProviderTiles(providers$Esri.WorldTopoMap)
# names(markers_jank_rmvd) %>%
#   purrr::walk(function(df){
#     l <<- l %>%
#       addMarkers(data = markers_jank_rmvd,
#                  label=~as.character(`Marker name - front`), popup =~ as.character(`Text - front`))
#   })
#
#
# l <- l %>%
#   addLayersControl(
#     overlayGroups = names(markers_jank_rmvd),
#     options = layersControlOptions(collapsed = FALSE)) %>%
#   addMiniMap(tiles = providers$Esri.OceanBasemap, width = 120, height = 80)
#
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
markers_htmlified <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "(<br>)")
markers_jank_rmvd <- markers_htmlified[grepl("Time Period:", markers_htmlified$`Time period`), ]
library(leaflet)
leaflet(markers_jank_rmvd) %>%
addTiles() %>%
addMarkers(popup = ~as.character(`Marker name - front`,))
leaflet(markers_jank_rmvd) %>%
addTiles() %>%
addMarkers(popup = ~as.character(`Marker name - front`))
library(leaflet)
library(rgdal)
library(dplyr)
library(tidyr)
setwd('C:/Users/ethan/Desktop/historical_data/data')
markers <- st_read("S.C. Historical Marker Map.kml/doc.kml")
markers_htmlified <- markers %>%
separate(Description, c('County',
'Marker name - front',
'Marker name - reverse',
'Coordinates',
'City',
'Address/Location',
'Text - front',
'Text - reverse',
'Sponsor',
'Year approved',
'Keywords',
'Time period'),
sep = "(<br>)")
markers_jank_rmvd <- markers_htmlified[grepl("Time Period:", markers_htmlified$`Time period`), ]
library(leaflet)
leaflet(markers_jank_rmvd) %>%
addProviderTiles(provider = providers$OpenStreetMap) %>%
addMarkers(popup = ~as.character(`Marker name - front`))
# l <- leaflet() %>%
#   addProviderTiles(providers$Esri.WorldTopoMap)
# names(markers_jank_rmvd) %>%
#   purrr::walk(function(df){
#     l <<- l %>%
#       addMarkers(data = markers_jank_rmvd,
#                  label=~as.character(`Marker name - front`), popup =~ as.character(`Text - front`))
#   })
#
#
# l <- l %>%
#   addLayersControl(
#     overlayGroups = names(markers_jank_rmvd),
#     options = layersControlOptions(collapsed = FALSE)) %>%
#   addMiniMap(tiles = providers$Esri.OceanBasemap, width = 120, height = 80)
#
leaflet(markers_jank_rmvd) %>%
addProviderTiles(provider = providers$OpenStreetMap) %>%
addMarkers(popup = ~as.character(`Marker name - front`))
leaflet(markers_jank_rmvd) %>%
addProviderTiles(provider = providers$OpenStreetMap) %>%
addMarkers(clusterOptions = markerClusterOptions(),
popup = ~as.character(`Marker name - front`))
